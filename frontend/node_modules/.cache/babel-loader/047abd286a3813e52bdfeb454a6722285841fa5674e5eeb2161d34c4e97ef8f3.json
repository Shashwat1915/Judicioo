{"ast":null,"code":"const express = require('express');\nconst cors = require('cors');\nconst multer = require('multer');\nconst path = require('path');\nconst app = express();\nconst port = 3001;\n\n// --- MIDDLEWARE ---\napp.use(cors());\napp.use(express.json());\n\n// Setup for file uploads\nconst upload = multer({\n  storage: multer.memoryStorage()\n});\n\n// --- MOCK AI PROCESSING ---\nconst simulateProcessing = (delay = 1500) => new Promise(res => setTimeout(res, delay));\n\n// --- API ENDPOINTS ---\n\n/**\n * @route   POST /api/chat\n * @desc    Handles chatbot conversation\n */\napp.post('/api/chat', async (req, res) => {\n  await simulateProcessing();\n  const {\n    message\n  } = req.body;\n  const userQuery = message.toLowerCase();\n  let aiResponse = {\n    text: \"I'm sorry, I need more information to provide a detailed answer. Could you please clarify your question?\"\n  };\n  if (userQuery.includes(\"divorce\")) {\n    aiResponse.text = `\n            <p>In most jurisdictions, divorce proceedings involve several key steps:</p>\n            <ul class=\"list-disc list-inside space-y-2\">\n                <li><strong>Filing a Petition:</strong> One spouse files a formal petition with the court.</li>\n                <li><strong>Serving Papers:</strong> The other spouse is formally notified.</li>\n                <li><strong>Financial Disclosures:</strong> Both parties must disclose assets and debts.</li>\n                <li><strong>Negotiation/Mediation:</strong> Spouses attempt to agree on terms like asset division and child custody.</li>\n                <li><strong>Final Judgment:</strong> A judge signs the final divorce decree.</li>\n            </ul>\n            <p class=\"mt-2\"><strong>Citation:</strong> This process is generally outlined in state-specific Family Law or Domestic Relations statutes. For example, see the California Family Code ยง2300-2350.</p>\n            <p class=\"mt-2\"><strong>Category:</strong> Family Law</p>\n        `;\n  } else if (userQuery.includes(\"contract\")) {\n    aiResponse.text = `\n            <p>For a contract to be legally binding, it must generally contain five key elements:</p>\n            <ol class=\"list-decimal list-inside space-y-2\">\n                <li><strong>Offer:</strong> A clear proposal from one party to another.</li>\n                <li><strong>Acceptance:</strong> Unconditional agreement to the terms of the offer.</li>\n                <li><strong>Consideration:</strong> Something of value exchanged between the parties.</li>\n                <li><strong>Capacity:</strong> Both parties must be legally competent to enter a contract.</li>\n                <li><strong>Legality:</strong> The purpose of the contract must be legal.</li>\n            </ol>\n            <p class=\"mt-2\"><strong>Citation:</strong> These principles are derived from common law precedent, notably from cases like <em>Carlill v Carbolic Smoke Ball Co [1893]</em>.</p>\n            <p class=\"mt-2\"><strong>Category:</strong> Civil Law / Contract Law</p>\n        `;\n  }\n  res.json(aiResponse);\n});\n\n/**\n * @route   POST /api/analyze-document\n * @desc    Analyzes an uploaded document\n */\napp.post('/api/analyze-document', upload.single('document'), async (req, res) => {\n  if (!req.file) {\n    return res.status(400).json({\n      error: 'No file uploaded.'\n    });\n  }\n  await simulateProcessing(2000);\n  const analysisResult = {\n    metrics: {\n      \"Parties Involved\": \"John Doe (Plaintiff) vs. Acme Corp. (Defendant)\",\n      \"Document Date\": \"2024-08-15\",\n      \"Court\": \"Superior Court of California, County of Los Angeles\",\n      \"Case Type\": \"Breach of Contract\",\n      \"Main Legal Issue\": \"Failure to deliver goods as per agreement terms.\"\n    },\n    summary: [\"Plaintiff John Doe alleges that Defendant Acme Corp. failed to deliver a shipment of 1,000 widgets by the contractually agreed date of June 1, 2024.\", \"The contract stipulated a penalty for late delivery, which the defendant has refused to pay.\", \"Plaintiff is seeking damages amounting to $50,000, covering the cost of goods and associated business losses.\"],\n    highlights: [{\n      type: 'Clause',\n      text: 'Section 4.1: Delivery of Goods must be completed on or before June 1, 2024.'\n    }, {\n      type: 'Argument',\n      text: 'Plaintiff argues that the delay constitutes a material breach of the contract.'\n    }, {\n      type: 'Claim',\n      text: 'Defendant claims unforeseen supply chain disruptions as a defense (force majeure).'\n    }]\n  };\n  res.json(analysisResult);\n});\n\n/**\n * @route   POST /api/predict-outcome\n * @desc    Predicts the outcome of a case\n */\napp.post('/api/predict-outcome', async (req, res) => {\n  await simulateProcessing(2500);\n  const prediction = {\n    outcome: 'Plaintiff Wins',\n    probability: 72,\n    confidence: 85,\n    reasoning: \"The prediction is based on a strong precedent in similar breach of contract cases within this jurisdiction. The presence of clear contractual language regarding delivery dates (Factor 1) heavily favors the plaintiff. While the defendant's 'force majeure' claim (Factor 2) introduces some uncertainty, it is generally difficult to prove in cases of standard supply chain issues.\",\n    influentialCases: [\"Smith v. Logistics Inc. (2021): Similar facts, ruled in favor of plaintiff.\", \"Global Goods v. Transport Co. (2019): Established a high bar for force majeure claims.\"],\n    factors: [{\n      name: 'Strength of Contract',\n      impact: 0.6,\n      type: 'positive'\n    }, {\n      name: 'Precedent Cases',\n      impact: 0.55,\n      type: 'positive'\n    }, {\n      name: 'Evidence Quality',\n      impact: 0.4,\n      type: 'positive'\n    }, {\n      name: 'Defendant\\'s Defense',\n      impact: 0.3,\n      type: 'negative'\n    }]\n  };\n  res.json(prediction);\n});\n\n/**\n * @route   POST /api/generate-arguments\n * @desc    Generates opposition arguments\n */\napp.post('/api/generate-arguments', async (req, res) => {\n  await simulateProcessing(2000);\n  const results = [{\n    argument: \"Force Majeure / Act of God\",\n    analysis: \"Strength: Moderate. If the defendant can provide concrete evidence of an unforeseeable, external event (e.g., a natural disaster, a port shutdown) that directly caused the delay, this can be a powerful defense. Weakness: High burden of proof. Courts often interpret 'force majeure' clauses narrowly. Standard business risks like supplier delays are typically not sufficient.\",\n    response: \"Strategy: Request detailed documentation of the alleged event. Argue that the event was foreseeable or that the defendant failed to take reasonable steps to mitigate its impact. Cite precedents where similar claims were rejected.\"\n  }, {\n    argument: \"Plaintiff's Contributory Negligence\",\n    analysis: \"Strength: Low to Moderate. This argument is viable only if the defendant can show the plaintiff's actions (e.g., providing incorrect specifications, delaying necessary approvals) contributed to the delivery failure. Weakness: Requires clear evidence linking the plaintiff's actions directly to the defendant's breach.\",\n    response: \"Strategy: Compile a timeline of all communications and approvals to demonstrate full compliance with contractual obligations. Prepare to refute any claims of plaintiff-caused delays with documentation.\"\n  }, {\n    argument: \"Waiver or Modification of Contract\",\n    analysis: \"Strength: High if supported by evidence. If the defendant can produce emails, texts, or recorded conversations where the plaintiff appeared to accept the delay or agree to new terms, this could nullify the original deadline. Weakness: Often relies on ambiguous communication. Verbal agreements are hard to prove.\",\n    response: \"Strategy: Maintain a strict 'no-waiver' clause in writing. Respond to any delay notifications by explicitly stating that the original contract terms remain in effect and rights are reserved.\"\n  }];\n  res.json(results);\n});\n\n// --- START SERVER ---\napp.listen(port, () => {\n  console.log(`Judicio backend server listening at http://localhost:${port}`);\n});","map":{"version":3,"names":["express","require","cors","multer","path","app","port","use","json","upload","storage","memoryStorage","simulateProcessing","delay","Promise","res","setTimeout","post","req","message","body","userQuery","toLowerCase","aiResponse","text","includes","single","file","status","error","analysisResult","metrics","summary","highlights","type","prediction","outcome","probability","confidence","reasoning","influentialCases","factors","name","impact","results","argument","analysis","response","listen","console","log"],"sources":["C:/Users/Rio/Desktop/judicioo/frontend/src/App.jsx"],"sourcesContent":["const express = require('express');\nconst cors = require('cors');\nconst multer = require('multer');\nconst path = require('path');\n\nconst app = express();\nconst port = 3001;\n\n// --- MIDDLEWARE ---\napp.use(cors());\napp.use(express.json());\n\n// Setup for file uploads\nconst upload = multer({ storage: multer.memoryStorage() });\n\n// --- MOCK AI PROCESSING ---\nconst simulateProcessing = (delay = 1500) => new Promise(res => setTimeout(res, delay));\n\n// --- API ENDPOINTS ---\n\n/**\n * @route   POST /api/chat\n * @desc    Handles chatbot conversation\n */\napp.post('/api/chat', async (req, res) => {\n    await simulateProcessing();\n    const { message } = req.body;\n    const userQuery = message.toLowerCase();\n    \n    let aiResponse = { text: \"I'm sorry, I need more information to provide a detailed answer. Could you please clarify your question?\" };\n\n    if (userQuery.includes(\"divorce\")) {\n        aiResponse.text = `\n            <p>In most jurisdictions, divorce proceedings involve several key steps:</p>\n            <ul class=\"list-disc list-inside space-y-2\">\n                <li><strong>Filing a Petition:</strong> One spouse files a formal petition with the court.</li>\n                <li><strong>Serving Papers:</strong> The other spouse is formally notified.</li>\n                <li><strong>Financial Disclosures:</strong> Both parties must disclose assets and debts.</li>\n                <li><strong>Negotiation/Mediation:</strong> Spouses attempt to agree on terms like asset division and child custody.</li>\n                <li><strong>Final Judgment:</strong> A judge signs the final divorce decree.</li>\n            </ul>\n            <p class=\"mt-2\"><strong>Citation:</strong> This process is generally outlined in state-specific Family Law or Domestic Relations statutes. For example, see the California Family Code ยง2300-2350.</p>\n            <p class=\"mt-2\"><strong>Category:</strong> Family Law</p>\n        `;\n    } else if (userQuery.includes(\"contract\")) {\n         aiResponse.text = `\n            <p>For a contract to be legally binding, it must generally contain five key elements:</p>\n            <ol class=\"list-decimal list-inside space-y-2\">\n                <li><strong>Offer:</strong> A clear proposal from one party to another.</li>\n                <li><strong>Acceptance:</strong> Unconditional agreement to the terms of the offer.</li>\n                <li><strong>Consideration:</strong> Something of value exchanged between the parties.</li>\n                <li><strong>Capacity:</strong> Both parties must be legally competent to enter a contract.</li>\n                <li><strong>Legality:</strong> The purpose of the contract must be legal.</li>\n            </ol>\n            <p class=\"mt-2\"><strong>Citation:</strong> These principles are derived from common law precedent, notably from cases like <em>Carlill v Carbolic Smoke Ball Co [1893]</em>.</p>\n            <p class=\"mt-2\"><strong>Category:</strong> Civil Law / Contract Law</p>\n        `;\n    }\n\n    res.json(aiResponse);\n});\n\n/**\n * @route   POST /api/analyze-document\n * @desc    Analyzes an uploaded document\n */\napp.post('/api/analyze-document', upload.single('document'), async (req, res) => {\n    if (!req.file) {\n        return res.status(400).json({ error: 'No file uploaded.' });\n    }\n    \n    await simulateProcessing(2000);\n    \n    const analysisResult = {\n        metrics: {\n            \"Parties Involved\": \"John Doe (Plaintiff) vs. Acme Corp. (Defendant)\",\n            \"Document Date\": \"2024-08-15\",\n            \"Court\": \"Superior Court of California, County of Los Angeles\",\n            \"Case Type\": \"Breach of Contract\",\n            \"Main Legal Issue\": \"Failure to deliver goods as per agreement terms.\"\n        },\n        summary: [\n            \"Plaintiff John Doe alleges that Defendant Acme Corp. failed to deliver a shipment of 1,000 widgets by the contractually agreed date of June 1, 2024.\",\n            \"The contract stipulated a penalty for late delivery, which the defendant has refused to pay.\",\n            \"Plaintiff is seeking damages amounting to $50,000, covering the cost of goods and associated business losses.\"\n        ],\n        highlights: [\n            { type: 'Clause', text: 'Section 4.1: Delivery of Goods must be completed on or before June 1, 2024.' },\n            { type: 'Argument', text: 'Plaintiff argues that the delay constitutes a material breach of the contract.' },\n            { type: 'Claim', text: 'Defendant claims unforeseen supply chain disruptions as a defense (force majeure).' }\n        ]\n    };\n    \n    res.json(analysisResult);\n});\n\n/**\n * @route   POST /api/predict-outcome\n * @desc    Predicts the outcome of a case\n */\napp.post('/api/predict-outcome', async (req, res) => {\n    await simulateProcessing(2500);\n\n    const prediction = {\n        outcome: 'Plaintiff Wins',\n        probability: 72,\n        confidence: 85,\n        reasoning: \"The prediction is based on a strong precedent in similar breach of contract cases within this jurisdiction. The presence of clear contractual language regarding delivery dates (Factor 1) heavily favors the plaintiff. While the defendant's 'force majeure' claim (Factor 2) introduces some uncertainty, it is generally difficult to prove in cases of standard supply chain issues.\",\n        influentialCases: [\n            \"Smith v. Logistics Inc. (2021): Similar facts, ruled in favor of plaintiff.\",\n            \"Global Goods v. Transport Co. (2019): Established a high bar for force majeure claims.\"\n        ],\n        factors: [\n            { name: 'Strength of Contract', impact: 0.6, type: 'positive' },\n            { name: 'Precedent Cases', impact: 0.55, type: 'positive' },\n            { name: 'Evidence Quality', impact: 0.4, type: 'positive' },\n            { name: 'Defendant\\'s Defense', impact: 0.3, type: 'negative' }\n        ]\n    };\n    \n    res.json(prediction);\n});\n\n/**\n * @route   POST /api/generate-arguments\n * @desc    Generates opposition arguments\n */\napp.post('/api/generate-arguments', async (req, res) => {\n    await simulateProcessing(2000);\n\n    const results = [\n        {\n            argument: \"Force Majeure / Act of God\",\n            analysis: \"Strength: Moderate. If the defendant can provide concrete evidence of an unforeseeable, external event (e.g., a natural disaster, a port shutdown) that directly caused the delay, this can be a powerful defense. Weakness: High burden of proof. Courts often interpret 'force majeure' clauses narrowly. Standard business risks like supplier delays are typically not sufficient.\",\n            response: \"Strategy: Request detailed documentation of the alleged event. Argue that the event was foreseeable or that the defendant failed to take reasonable steps to mitigate its impact. Cite precedents where similar claims were rejected.\"\n        },\n        {\n            argument: \"Plaintiff's Contributory Negligence\",\n            analysis: \"Strength: Low to Moderate. This argument is viable only if the defendant can show the plaintiff's actions (e.g., providing incorrect specifications, delaying necessary approvals) contributed to the delivery failure. Weakness: Requires clear evidence linking the plaintiff's actions directly to the defendant's breach.\",\n            response: \"Strategy: Compile a timeline of all communications and approvals to demonstrate full compliance with contractual obligations. Prepare to refute any claims of plaintiff-caused delays with documentation.\"\n        },\n        {\n            argument: \"Waiver or Modification of Contract\",\n            analysis: \"Strength: High if supported by evidence. If the defendant can produce emails, texts, or recorded conversations where the plaintiff appeared to accept the delay or agree to new terms, this could nullify the original deadline. Weakness: Often relies on ambiguous communication. Verbal agreements are hard to prove.\",\n            response: \"Strategy: Maintain a strict 'no-waiver' clause in writing. Respond to any delay notifications by explicitly stating that the original contract terms remain in effect and rights are reserved.\"\n        }\n    ];\n\n    res.json(results);\n});\n\n\n// --- START SERVER ---\napp.listen(port, () => {\n    console.log(`Judicio backend server listening at http://localhost:${port}`);\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}